import{_ as s,c as a,o as n,a4 as p}from"./chunks/framework.D1Mhyt1-.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"document/services/linux/运维常见场景操作.md","filePath":"document/services/linux/运维常见场景操作.md"}'),t={name:"document/services/linux/运维常见场景操作.md"},e=p(`<h2 id="查看系统运行情况" tabindex="-1">查看系统运行情况 <a class="header-anchor" href="#查看系统运行情况" aria-label="Permalink to &quot;查看系统运行情况&quot;">​</a></h2><h3 id="iftop-查看宽带占用情况" tabindex="-1">iftop 查看宽带占用情况 <a class="header-anchor" href="#iftop-查看宽带占用情况" aria-label="Permalink to &quot;iftop 查看宽带占用情况&quot;">​</a></h3><p>界面上面显示的是类似刻度尺的刻度范围，为显示流量图形的长条作标尺用的。中间的 &lt;= (接收流量) =&gt; (发送流量) 这两个左右箭头，表示的是流量的方向.</p><details class="details custom-block"><summary>iftop运行相关参数说明</summary><p>-i 设定监测的网卡，如：# iftop -i eth1<br> -B 以bytes为单位显示流量(默认是bits)，如：# iftop -B<br> -n 使host信息默认直接都显示IP，如：# iftop -n<br> -N 使端口信息默认直接都显示端口号，如: # iftop -N<br> -F 显示特定网段的进出流量，如# iftop -F 172.30.1.0/24或# iftop -F 172.30.1.0/255.255.255.0<br> -h（display this message），帮助，显示参数信息<br> -p 使用这个参数后，中间的列表显示的本地主机信息，出现了本机以外的IP信息;<br> -b 使流量图形条默认就显示;<br> -f 这个暂时还不太会用，过滤计算包用的;<br> -P 使host信息及端口信息默认就都显示;<br> -m 设置界面最上边的刻度的最大值，刻度分五个大段显示，例：# iftop -m 100M</p></details><details class="details custom-block"><summary>iftop画面后的一些操作命令</summary><p>按 h 切换是否显示帮助;<br> 按 n 切换显示本机的IP或主机名;<br> 按 s 切换是否显示本机的host信息;<br> 按 d 切换是否显示远端目标主机的host信息;<br> 按 t 切换显示格式为2行/1行/只显示发送流量/只显示接收流量;<br> 按 N 切换显示端口号或端口服务名称;<br> 按 S 切换是否显示本机的端口信息;<br> 按 D 切换是否显示远端目标主机的端口信息;<br> 按 p 切换是否显示端口信息;<br> 按 P 切换暂停/继续显示;<br> 按 b 切换是否显示平均流量图形条;<br> 按 B 切换计算2秒或10秒或40秒内的平均流量;<br> 按 T 切换是否显示每个连接的总流量;<br> 按 l 打开屏幕过滤功能，输入要过滤的字符，比如ip,按回车后，屏幕就只显示这个IP相关的流量信息;<br> 按 L 切换显示画面上边的刻度;刻度不同，流量图形条会有变化;<br> 按 j 或按k可以向上或向下滚动屏幕显示的连接记录;<br> 按 1 或2或3可以根据右侧显示的三列流量数据进行排序;<br> 按 &lt; 根据左边的本机名或IP排序;<br> 按 &gt; 根据远端目标主机的主机名或IP排序;<br> 按 o 切换是否固定只显示当前的连接;<br> 按 f 可以编辑过滤代码，这是翻译过来的说法，我还没用过这个！<br> 按 ! 可以使用shell命令，这个没用过！没搞明白啥命令在这好用呢！<br> 按 q 退出监控。</p></details><div class="tip custom-block"><p class="custom-block-title">iftop界面的参数说明</p><p>TX：发送流量<br> RX：接收流量<br> TOTAL：总流量<br> cum：运行 iftop 到目前时间的总流量<br> peak：流量峰值<br> rates：分别表示过去 2s 10s 40s 的平均流量</p></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ubuntu@es-cn-sz-4:~$ sudo iftop -i eth0 -P -m 15M</span></span>
<span class="line"><span>interface: eth0</span></span>
<span class="line"><span>IP address is: 172.18.236.168</span></span>
<span class="line"><span>MAC address is: 00:16:3e:06:72:66</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                                   19.1Mb                              38.1Mb                             57.2Mb                              76.3Mb                        95.4Mb</span></span>
<span class="line"><span>└──────────────────────────────────┴───────────────────────────────────┴──────────────────────────────────┴───────────────────────────────────┴───────────────────────────────────</span></span>
<span class="line"><span>172.18.236.168:https                                                        =&gt; 140.249.254.175:46864                                                        432Kb   301Kb   139Kb</span></span>
<span class="line"><span>                                                                            &lt;=                                                                             7.02Kb  4.54Kb  2.18Kb</span></span>
<span class="line"><span>172.18.236.168:https                                                        =&gt; 120.72.63.142:50478                                                          187Kb   278Kb   168Kb</span></span>
<span class="line"><span>                                                                            &lt;=                                                                             3.03Kb  4.23Kb  2.50Kb</span></span>
<span class="line"><span>172.18.236.168:https                                                        =&gt; 119.167.234.119:53967                                                       99.3Kb   271Kb  82.1Kb</span></span>
<span class="line"><span>                                                                            &lt;=                                                                             1.08Kb  4.11Kb  1.19Kb</span></span>
<span class="line"><span></span></span>
<span class="line"><span>──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span></span>
<span class="line"><span>TX:             cum:    299MB   peak:   19.5Mb                                                                                                    rates:   15.3Mb  17.7Mb  17.6Mb</span></span>
<span class="line"><span>RX:                    5.75MB            437Kb                                                                                                              285Kb   320Kb   326Kb</span></span>
<span class="line"><span>TOTAL:                  305MB           19.8Mb                                                                                                             15.6Mb  18.0Mb  17.9M</span></span></code></pre></div>`,7),i=[e];function b(l,r,c,o,d,h){return n(),a("div",null,i)}const u=s(t,[["render",b]]);export{m as __pageData,u as default};
